# Crypto Pairs API - High-Performance FastAPI Service

–í—ã—Å–æ–∫–æ–Ω–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–π FastAPI-—Å–µ—Ä–≤–∏—Å –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–æ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–Ω—ã–º –ø–∞—Ä–∞–º —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π ETH/USDT.

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- ‚ö° –í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (500+ RPS)
- üöÄ Gunicorn —Å Uvicorn workers –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏
- üîÑ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ L1 in-memory
- üõ°Ô∏è Circuit breaker –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç –∫–∞—Å–∫–∞–¥–Ω—ã—Ö —Å–±–æ–µ–≤
- üìä –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (Prometheus + Grafana + Loki)
- üîç –ü–æ–ª–Ω–∞—è —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ —Å correlation ID
- üèóÔ∏è Clean Architecture –¥–ª—è –ª–µ–≥–∫–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
- üê≥ –ü–æ–ª–Ω–∞—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è —Å Docker

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

**–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ (–¥–ª—è –Ω–æ–≤—ã—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤):**
- Docker 20.10+
- Docker Compose 2.0+
- Make
- 4GB RAM –º–∏–Ω–∏–º—É–º

**–î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:**
- Python 3.11+
- Poetry (–¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
- 8GB RAM –¥–ª—è –≤–µ—Ä—Å–∏–∏ —Å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### Production —Ä–µ–∂–∏–º —Å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone <repository-url>
cd cryptopair

# –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
make up

# –ò–ª–∏ –≤—Ä—É—á–Ω—É—é:
docker-compose up -d

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
make ps
# –∏–ª–∏
docker-compose ps

# API –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞:
# - API: http://localhost:8000
# - API Docs: http://localhost:8000/docs
# - Prometheus: http://localhost:9090
# - Grafana: http://localhost:3000 (admin/admin)
# - Loki: http://localhost:3100
```

### Development —Ä–µ–∂–∏–º

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤ dev —Ä–µ–∂–∏–º–µ —Å hot reload
make dev-up

# –ò–ª–∏ –≤—Ä—É—á–Ω—É—é:
docker-compose -f docker-compose.dev.yml up

# API –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ http://localhost:8000

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
make dev-logs

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
make dev-down
```

## API Endpoints

### –û—Å–Ω–æ–≤–Ω—ã–µ endpoints

- `GET /api/v1/prices/{symbol}-{vs_currency}` - –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â—É—é —Ü–µ–Ω—É –ø–∞—Ä—ã
- `GET /api/v1/prices/eth-usdt` - Shortcut –¥–ª—è ETH/USDT –ø–∞—Ä—ã  
- `GET /` - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± API
- `GET /docs` - Swagger UI –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- `GET /redoc` - ReDoc –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### Health checks

- `GET /health` - –û–±—â–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è
- `GET /health/liveness` - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∂–∏–∑–Ω–µ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–∏—Å–∞
- `GET /health/readiness` - –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ (–≤–∫–ª—é—á–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏)

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

- `GET /metrics` - Prometheus –º–µ—Ç—Ä–∏–∫–∏

### –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤

```bash
# –ü–æ–ª—É—á–∏—Ç—å —Ü–µ–Ω—É ETH/USDT
curl http://localhost:8000/api/v1/prices/eth-usdt

# –ü–æ–ª—É—á–∏—Ç—å —Ü–µ–Ω—É BTC/USD
curl http://localhost:8000/api/v1/prices/btc-usd

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–¥–æ—Ä–æ–≤—å–µ —Å–µ—Ä–≤–∏—Å–∞
curl http://localhost:8000/health/readiness
```

### –§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞

```json
{
  "symbol": "eth",
  "vs_currency": "usdt",
  "price": 3886.69,
  "volume_24h": 29306409998.70,
  "price_change_24h": 1.71,
  "last_updated": "2025-07-28T11:01:41",
  "pair": "ETH/USDT"
}
```

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (1 –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, 8 –≤–æ—Ä–∫–µ—Ä–æ–≤) –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:
- 300+ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π
- Response time < 1000ms –ø—Ä–∏ –ø–∏–∫–æ–≤–æ–π –Ω–∞–≥—Ä—É–∑–∫–µ
- –î–æ 500 req/s throughput

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –¥–ª—è –Ω–æ–≤—ã—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:** —Ç–æ–ª—å–∫–æ Docker, Docker Compose –∏ Make

```bash
# 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –∏ –ø–µ—Ä–µ–π—Ç–∏ –≤ –ø—Ä–æ–µ–∫—Ç
git clone <repository-url>
cd cryptopair

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –Ω–∞—Å—Ç—Ä–æ–π–∫—É
make setup-test
```

**–ì–æ—Ç–æ–≤–æ!** –ö–æ–º–∞–Ω–¥–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–∏—Ç –∏ –∑–∞–ø—É—Å—Ç–∏—Ç —Ç–µ—Å—Ç—ã.

üìñ **–ü–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ:** —Å–º. [TESTING.md](TESTING.md)

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –≤ Docker (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Ç–µ—Å—Ç—ã –≤ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–º Docker –æ–∫—Ä—É–∂–µ–Ω–∏–∏
make test-docker

# CI/CD —Ä–µ–∂–∏–º (–ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏)
make test-ci
```

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –≤ —Ä–∞–±–æ—Ç–∞—é—â–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏

–ï—Å–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É–∂–µ –∑–∞–ø—É—â–µ–Ω–æ (`make up`):

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Ç–µ—Å—Ç—ã
make test

# –¢–æ–ª—å–∫–æ unit —Ç–µ—Å—Ç—ã
make test-unit

# –¢–æ–ª—å–∫–æ integration —Ç–µ—Å—Ç—ã  
make test-integration

# –¢–µ—Å—Ç—ã —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º
make test-all
```

### –ù–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –¢–µ—Å—Ç —Å hey (300 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π)
make test-load

# –°—Ç—Ä–µ—Å—Å-—Ç–µ—Å—Ç –Ω–∞ 60 —Å–µ–∫—É–Ω–¥
make test-stress

# k6 —Ç–µ—Å—Ç (—Ç—Ä–µ–±—É–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ k6)
make k6-test

# Locust —Ç–µ—Å—Ç —Å Web UI (—Ç—Ä–µ–±—É–µ—Ç –∑–∞–ø—É—â–µ–Ω–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)
make up  # –°–Ω–∞—á–∞–ª–∞ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
make locust-test  # –ó–∞—Ç–µ–º –Ω–∞–≥—Ä—É–∑–æ—á–Ω—ã–π —Ç–µ—Å—Ç
# UI –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ http://localhost:8089

# –ü–æ–ª–Ω—ã–π benchmark suite (Python-based, —Ç—Ä–µ–±—É–µ—Ç –∑–∞–ø—É—â–µ–Ω–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)
make up  # –°–Ω–∞—á–∞–ª–∞ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
make benchmark  # –ó–∞—Ç–µ–º benchmark

# –ë—ã—Å—Ç—Ä—ã–π benchmark
make benchmark-quick
```

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–û—Å–Ω–æ–≤–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:

### –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- `WORKERS` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ Gunicorn workers (default: 8)
- `LOG_LEVEL` - —É—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (DEBUG/INFO/WARNING/ERROR, default: INFO)
- `LOG_FORMAT` - —Ñ–æ—Ä–º–∞—Ç –ª–æ–≥–æ–≤ (json/text, default: json)
- `ENABLE_METRICS` - –≤–∫–ª—é—á–∏—Ç—å Prometheus –º–µ—Ç—Ä–∏–∫–∏ (default: true)
- `RELOAD` - hot reload –¥–ª—è dev —Ä–µ–∂–∏–º–∞ (default: false)

### –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- `CACHE_TTL` - TTL –¥–ª—è L1 –∫—ç—à–∞ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö (default: 5)
- `CACHE_MAX_SIZE_L1` - –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä L1 –∫—ç—à–∞ (default: 1000)

### –í–Ω–µ—à–Ω–∏–µ API
- `COINGECKO_API_KEY` - API –∫–ª—é—á –¥–ª—è CoinGecko Pro (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- `COINGECKO_BASE_URL` - –±–∞–∑–æ–≤—ã–π URL CoinGecko API

### Circuit Breaker
- `CIRCUIT_BREAKER_FAILURE_THRESHOLD` - –ø–æ—Ä–æ–≥ –æ—à–∏–±–æ–∫ (default: 5)
- `CIRCUIT_BREAKER_RECOVERY_TIMEOUT` - —Ç–∞–π–º–∞—É—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –≤ —Å–µ–∫—É–Ω–¥–∞—Ö (default: 60)
- `CIRCUIT_BREAKER_EXPECTED_EXCEPTION` - –æ–∂–∏–¥–∞–µ–º—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ú–µ—Ç—Ä–∏–∫–∏

–°–µ—Ä–≤–∏—Å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –º–µ—Ç—Ä–∏–∫–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ Prometheus:

- `http_requests_total` - –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ HTTP –∑–∞–ø—Ä–æ—Å–æ–≤
- `http_request_duration_seconds` - –í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
- `cache_hits_total` / `cache_misses_total` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–µ—à–∞
- `external_api_requests_total` - –ó–∞–ø—Ä–æ—Å—ã –∫ –≤–Ω–µ—à–Ω–∏–º API
- `circuit_breaker_state` - –°–æ—Å—Ç–æ—è–Ω–∏–µ circuit breaker
- `active_connections` - –ê–∫—Ç–∏–≤–Ω—ã–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–í—Å–µ –ª–æ–≥–∏ –≤—ã–≤–æ–¥—è—Ç—Å—è –≤ JSON —Ñ–æ—Ä–º–∞—Ç–µ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π correlation ID –¥–ª—è —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤:

```json
{
  "asctime": "2025-07-28 11:01:41",
  "name": "src.application.use_cases.get_price",
  "levelname": "INFO",
  "message": "Fetched and cached price for eth/usdt",
  "correlation_id": "550e8400-e29b-41d4-a716-446655440000"
}
```

## Troubleshooting

### –í—ã—Å–æ–∫–∞—è latency
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏: `docker-compose logs app`
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å CPU/Memory: `docker stats`
3. –£–≤–µ–ª–∏—á–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ workers –∏–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å —Ä–µ–ø–ª–∏–∫–∏

### Connection refused –ø—Ä–∏ –≤—ã—Å–æ–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–µ
```bash
# –£–≤–µ–ª–∏—á–∏—Ç—å –ª–∏–º–∏—Ç—ã —Å–∏—Å—Ç–µ–º—ã
sudo sysctl -w net.core.somaxconn=65535
sudo sysctl -w net.ipv4.tcp_max_syn_backlog=65535
```


## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

- **Clean Architecture** —Å —á–µ—Ç–∫–∏–º —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –Ω–∞ —Å–ª–æ–∏
- **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞** —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º AIOHTTP –¥–ª—è –≤—ã—Å–æ–∫–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏  
- **–ú–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**:
  - L1 (In-Memory) - 3 —Å–µ–∫—É–Ω–¥—ã TTL –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
  - –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π cache service —Å –ø—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–æ–π –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –ø–∞—Ä
- **Circuit Breaker** –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç –∫–∞—Å–∫–∞–¥–Ω—ã—Ö —Å–±–æ–µ–≤ (–ø–æ—Ä–æ–≥: 5 –æ—à–∏–±–æ–∫)
- **Retry –º–µ—Ö–∞–Ω–∏–∑–º** —Å exponential backoff (–¥–æ 5 –ø–æ–ø—ã—Ç–æ–∫)
- **Rate limiting** –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –∫–ª–∏–µ–Ω—Ç–∞ –¥–ª—è —Å–æ–±–ª—é–¥–µ–Ω–∏—è –ª–∏–º–∏—Ç–æ–≤ API
- **Health checks** —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- **Correlation ID** –¥–ª—è —Å–∫–≤–æ–∑–Ω–æ–π —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å CoinGecko

–î–ª—è –ø–∞—Ä –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, ETH/USDT) —Å–µ—Ä–≤–∏—Å:
1. –ü–æ–ª—É—á–∞–µ—Ç —Ü–µ–Ω—ã –æ–±–µ–∏—Ö –≤–∞–ª—é—Ç –≤ USD
2. –í—ã—á–∏—Å–ª—è–µ—Ç –∫—Ä–æ—Å—Å-–∫—É—Ä—Å
3. –ö–µ—à–∏—Ä—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–°–º. –ø–æ–ª–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –≤ `tech_spec_arch.md`

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
src/
‚îú‚îÄ‚îÄ domain/           # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –∏ —Å—É—â–Ω–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ application/      # Use cases –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
‚îú‚îÄ‚îÄ infrastructure/   # –í–Ω–µ—à–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã –∏ –∞–¥–∞–ø—Ç–µ—Ä—ã
‚îú‚îÄ‚îÄ presentation/     # API –∏ web-—Å–ª–æ–π
‚îî‚îÄ‚îÄ shared/          # –û–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã
```

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Makefile

```bash
# –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
make help               # –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
make build              # –°–æ–±—Ä–∞—Ç—å Docker –æ–±—Ä–∞–∑—ã
make up                 # –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã
make down               # –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–µ—Ä–≤–∏—Å—ã
make logs               # –ü–æ–∫–∞–∑–∞—Ç—å –ª–æ–≥–∏
make health             # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–¥–æ—Ä–æ–≤—å–µ —Å–µ—Ä–≤–∏—Å–æ–≤

# –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
make dev-up             # –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤ dev —Ä–µ–∂–∏–º–µ
make dev-down           # –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å dev —Ä–µ–∂–∏–º
make shell              # –î–æ—Å—Ç—É–ø –∫ shell –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
make test               # –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Ç–µ—Å—Ç—ã
make test-unit          # –ó–∞–ø—É—Å—Ç–∏—Ç—å unit —Ç–µ—Å—Ç—ã
make test-integration   # –ó–∞–ø—É—Å—Ç–∏—Ç—å integration —Ç–µ—Å—Ç—ã
make test-load          # –ó–∞–ø—É—Å—Ç–∏—Ç—å –Ω–∞–≥—Ä—É–∑–æ—á–Ω—ã–µ —Ç–µ—Å—Ç—ã

# –ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞
make lint               # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–¥ –ª–∏–Ω—Ç–µ—Ä–∞–º–∏
make format             # –û—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
make grafana            # –û—Ç–∫—Ä—ã—Ç—å Grafana
make prometheus         # –û—Ç–∫—Ä—ã—Ç—å Prometheus
make loki               # –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ Loki

# –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
make scale N=3          # –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å –¥–æ 3 –∏–Ω—Å—Ç–∞–Ω—Å–æ–≤
make restart SERVICE=app # –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å
make clean              # –û—á–∏—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∏ volumes
```

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –ª–æ–∫–∞–ª—å–Ω–æ

```bash
# –° pip
make install-deps

# –° Poetry
make poetry-install
```

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - —Å–º. —Ñ–∞–π–ª LICENSE –¥–ª—è –¥–µ—Ç–∞–ª–µ–π.
